---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2020/10/22 11:28
---
----
local CBaseLayer = core.require("xlua/lua_UI/UIBaseLayer.txt")
local WitchHeroSkillLayer = class("WitchHeroSkillLayer", CBaseLayer)

function WitchHeroSkillLayer:ctor(super, ui_parent)
    CBaseLayer.ctor(self)
    self._prefab = {
        path = "prefab_witch/UI_WitchHeroSkillLayer",
    }
    self._fading = false

    self._bgData = {
        showEffect = false,
        bgType = BackBgPath.BG_DEF,
    }
    self._topData = {
        showBtnBack     = true,
        showPlayerInfo  = false,
        showTopInfo     = false,
    };

    self._addStack = true
    self._hideOtherLayer = true

    self:onEnter()
end

function WitchHeroSkillLayer:onEnter()
    self:createPnl()

    self._herointroctrl = UIHeroIntroCtrl:new(self.layer)
    self._skillctrl = UISkillCtrl:new(self.layer, function() end)
end

function WitchHeroSkillLayer:onExit()
    if self._herointroctrl ~= nil then
        self._herointroctrl:UIHeroIntroCtrlDtor()
        self._herointroctrl = nil
    end

    if self._skillctrl ~= nil then
        self._skillctrl:UISkillCtrlDtor()
        self._skillctrl = nil
    end

    CBaseLayer.onExit(self)
end

function WitchHeroSkillLayer:show(heroid)
    self._skillctrl:InitUISkillCtrl(Hero:GetHero(heroid), false)
    self._herointroctrl:InitUIHeroIntroCtrl(heroid, true)
    self:showLayer()
end

return WitchHeroSkillLayer

